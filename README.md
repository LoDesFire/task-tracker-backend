# Task Tracker  
  
## Описание проекта  
  
TODO-приложение, предназначенное для управления задачами и проектами между пользователями. Проект реализован в виде набора микросервисов, взаимодействующих между собой по REST и через Kafka.  
  
Система позволяет пользователям создавать проекты и задачи, управлять дедлайнами, получать уведомления и просматривать аналитику. Администраторы обладают расширенными правами по управлению пользователями, ролями и доступами.  
  
---  
  
## Архитектура  
  
Проект состоит из **4 микросервисов**:  
  
1. **Core Service** — основной сервис для работы с проектами и задачами (Django + DRF)  
2. **Auth Service** — сервис аутентификации и авторизации (FastAPI)  
3. **Analytics Service** — сервис сбора и отображения статистики (FastAPI)  
4. **File Service** — сервис для работы с файлами и медиа (FastAPI)  
  
Взаимодействие между сервисами осуществляется через **Kafka**.  
  
---  
  
## Технологический стек  
  
### Backend  
* **Core**: Django, Django REST Framework, Celery, Redis, aioboto3, AWS SES
* **Auth**: FastAPI, SQLAlchemy 2.0+, PostgreSQL, Alembic, PyJWT  
* **Analytics**: FastAPI, MongoDB, Motor  
* **File**: FastAPI, aioboto3, MinIO
  
### Базы данных  
  
* PostgreSQL — Core и Auth сервисы  
* MongoDB — Analytics сервис  
  
---  
  
## Структура репозитория  
  
```text  
.  
├── core-service/          # Django + DRF  
├── auth-service/          # FastAPI  
├── analytics-service/     # FastAPI 
├── files-service/         # FastAPI  
└── thirdparty-services/   # MongoDB, Minio, Localstack, Kafka, PostgreSQL, Redis  
```  
  
Каждый микросервис является изолированным проектом со своим Dockerfile, зависимостями и конфигурацией.  

### Core Service (Django + DRF)
Core Service является центральным сервисом системы и отвечает за основную бизнес-логику управления проектами и задачами.
#### Ключевые особенности   
- Асинхронная обработка уведомлений через Celery + Redis
- Выполнение периодических задач с Celery Beat
- Интеграция с Auth Service для проверки прав доступа
- Отправка событий от пользователей в Kafka

---

### Auth Service (FastAPI)
Auth Service отвечает за безопасность системы, управление пользователями, ролями и правами доступа.
#### Ключевые особенности
- Кастомная JWT-аутентификация 
- Асинхронная работа с PostgreSQL через async SQLAlchemy
- Миграции базы данных с помощью Alembic
- Публикация событий о пользователях и ролях в Kafka

---

### Analytics Service (FastAPI)
Analytics Service предназначен для агрегации данных и предоставления статистики по проектам, задачам и пользователям.
#### Ключевые особенности
- Использование **MongoDB** для хранения агрегированных данных
- Получение событий из Kafka от Core и Auth сервисов
- Расчёт статистики без нагрузки на Core Service    
---

### File Service (FastAPI)
File Service отвечает за загрузку, хранение и выдачу файлов, используемых в системе.
#### Ключевые особенности
- Использование S3 хранилища
- Асинхронная загрузка файлов
- Интеграция с Kafka для синхронизации состояния файлов

---  
## CI / CD  
* GitHub Actions  
* Проверка линтерами 
* Тестирование